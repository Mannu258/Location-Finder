<!DOCTYPE html>
<html>
<head>
<script>
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(sendPositionToServer, showError);
  } else { 
    document.getElementById("location").innerHTML = "Geolocation is not supported by this browser.";
  }
}

function sendPositionToServer(position) {
  var latitude = position.coords.latitude;
  var longitude = position.coords.longitude;

  // Send the location data to the server
  fetch('/?lat=' + latitude + '&lon=' + longitude)
    .then(response => response.text())
    .then(data => {
      console.log(data); // Log the server response
    });
}

function showError(error) {
  console.warn(`ERROR(${error.code}): ${error.message}`);
}
</script>
</head>
<body onload="getLocation()">
</body>
</html>
